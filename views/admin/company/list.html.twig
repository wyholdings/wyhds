{% extends 'admin/layout/base.html.twig' %}

{% block content %}
<div class="d-flex align-items-center justify-content-between mb-3">
    <div>
        <h1 class="h3 mb-0 text-gray-800">업체 목록</h1>
        <p class="text-muted mb-0">총 {{ companies|length }}개 업체</p>
    </div>
    <a href="/admin/company/add" class="btn btn-sm btn-primary">+ 업체 등록</a>
</div>

<div class="card shadow-sm">
    <div class="card-body p-0">
        <div class="table-responsive">
            <table class="table table-hover mb-0">
                <thead class="thead-light">
                    <tr>
                        <th style="width: 80px;">ID</th>
                        <th>업체명</th>
                        <th style="width: 120px;">담당자</th>
                        <th style="width: 160px;">연락처</th>
                        <th style="width: 120px;">등록일</th>
                        <th style="width: 120px;">상태</th>
                        <th style="width: 180px;">관리</th>
                    </tr>
                </thead>
                <tbody>
                    {% for company in companies %}
                    <tr>
                        <td class="text-muted">{{ company.id }}</td>
                        <td>
                            <a href="/admin/company/{{ company.id }}/view">{{ company.name }}</a>
                            {% if company.type %}<div class="small text-muted">{{ company.type }}</div>{% endif %}
                        </td>
                        <td>{{ company.manager ?? '-' }}</td>
                        <td class="small">{{ company.phone ?? '-' }}</td>
                        <td class="small">{{ company.created_at|date('Y-m-d') }}</td>
                        <td>
                            <span class="badge badge-status badge-{{ company.status }}">{{ company.status }}</span>
                        </td>
                        <td>
                            <a href="/admin/company/{{ company.id }}/view" class="btn btn-sm btn-outline-info">보기</a>
                            <a href="/admin/company/{{ company.id }}/edit" class="btn btn-sm btn-outline-warning">수정</a>
                            <a href="/admin/company/{{ company.id }}/delete" class="btn btn-sm btn-outline-danger" onclick="return confirm('삭제할까요?')">삭제</a>
                        </td>
                    </tr>
                    {% else %}
                    <tr><td colspan="7" class="text-center text-muted p-4">등록된 업체가 없습니다.</td></tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>
{% endblock %}
